<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BitGPS - Localizador de ATMs e Com√©rcio Bitcoin</title>
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <style>
        #map { height: 500px; width: 100%; }
        .button-container { margin-bottom: 10px; }
        button { margin: 5px; padding: 10px; cursor: pointer; }
        #message { margin: 10px; font-weight: bold; }
    </style>
</head>
<body>

<h1>BitGPS - Localizador de Bitcoin</h1>

<div class="button-container">
    <button onclick="showAll()">TODOS</button>
    <button onclick="showATMs()">ATMs</button>
    <button onclick="showCommerce()">COM√âRCIOS</button>
    <button onclick="clearMap()">LIMPAR MAPA</button>
</div>

<p id="message">Selecione um pa√≠s para visualizar os locais</p>

<div id="map"></div>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
    var map = L.map('map').setView([-14.235, -51.9253], 4); // Centro do Brasil
    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png').addTo(map);

    var allMarkers = [];
    var atmMarkers = [];
    var commerceMarkers = [];

    // √çcone do marcador no formato de agulha vermelha üìç
    const redPinIcon = L.icon({
        iconUrl: 'data:image/svg+xml;charset=utf-8,' + encodeURIComponent(`
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="40" height="40">
                <path fill="red" d="M12 2C8.13 2 5 5.13 5 9c0 3.68 2.56 6.79 6 7.91V22l1-2 1 2v-5.09c3.44-1.12 6-4.23 6-7.91 0-3.87-3.13-7-7-7zm0 10c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3z"/>
            </svg>
        `),
        iconSize: [30, 40],
        iconAnchor: [15, 40],
        popupAnchor: [0, -30]
    });

    function addMarker(lat, lon, name, type) {
        let marker = L.marker([lat, lon], { icon: redPinIcon }).bindPopup(name);
        allMarkers.push(marker);
        if (type === 'atm') atmMarkers.push(marker);
        if (type === 'commerce') commerceMarkers.push(marker);
    }

    function showAll() {
        clearMap();
        allMarkers.forEach(marker => marker.addTo(map));
        document.getElementById('message').innerText = "";
    }

    function showATMs() {
        clearMap();
        atmMarkers.forEach(marker => marker.addTo(map));
        document.getElementById('message').innerText = "";
    }

    function showCommerce() {
        clearMap();
        commerceMarkers.forEach(marker => marker.addTo(map));
        document.getElementById('message').innerText = "";
    }

    function clearMap() {
        allMarkers.forEach(marker => map.removeLayer(marker));
        document.getElementById('message').innerText = "Selecione um pa√≠s para visualizar os locais";
    }

    // Adicionando alguns ATMs e com√©rcios no Brasil (pode expandir depois)
    addMarker(-23.5505, -46.6333, "ATM Bitcoin - S√£o Paulo", "atm");
    addMarker(-22.9068, -43.1729, "Com√©rcio Bitcoin - Rio de Janeiro", "commerce");
    addMarker(-19.9167, -43.9345, "ATM Bitcoin - Belo Horizonte", "atm");
    addMarker(-30.0346, -51.2177, "Com√©rcio Bitcoin - Porto Alegre", "commerce");

</script>

</body>
</html>
